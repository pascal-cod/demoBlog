{% extends 'base.html.twig' %}

{% block body %}

        <h1 class="display-4 text-center my-4">Identifiez-vous</h1>


        {# si il y a une erreur dans les identifiants de connexion, alors on entre dans le IF et on affiche le message d'erreur #}
        {# error : variable TWIG qui vient du controller SecurityController #}
        {% if error %}
            <p class="bg-danger text-white p-2 col-md-5 mx-auto rounded">{{ error.messageKey|trans(error.messageData,'security') }}</p>
            {# trans(error.messageData, 'security') : on indique a TWIG que la traduction du message d'erreur 'invalid credentials.' 
            se trouve dans le fichier 'trannslation/security.en php'#}
        {% endif %}


        <form method="post" class="col-md 5 mx-auto" action="{{ path('security_login') }}">
                <div class="form-group">
                    <label for="username">Email </label>
                    <input type="text" class="form-control" id="_username" name="_username"value="{{ last_username }}">
                    {# on stock dans l attribut 'value' le dernier Email post√© par l'utilisateur en cas d erreur d'identifiant#}
                    {# last_username : variable qui vient de controller SecurityController #}             
                </div>
                <div class="form-group">
                    <label for="password">Mot de passe</label>
                    <input type="password" class="form-control" id="password" name="_password">
                </div>
            <button type="submit" class="btn btn-dark">Connexion</button>
          </form>

{% endblock %}